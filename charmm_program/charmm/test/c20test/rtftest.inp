* TEST OF RTF GENERATION. OUTPUT IS PRINT OUT OF PSF TO BE
* CHECKED OR COMPARED BY THE USER.
*

stream datadir.def

OPEN READ CARD UNIT 1 NAME @0rtftest.rtf
READ RTF  CARD UNIT 1
CLOSE UNIT 1
BOMLEV -2
OPEN READ CARD UNIT 2 NAME @0param5.prm
READ PARAMETER CARD UNIT 2
CLOSE UNIT 2
BOMLEV  0

READ SEQU CARD HPRO
* PROTEIN SEQUENCE FOR RTF TEST
*
  21
ALA ARG ASN ASP CYS GLN GLU GLY HIS HSD 
ILE LEU LYS MET PHE PRO SER THR TRP TYR
VAL
GENERATE  A
READ SEQU  WATER 4
GENER WAT

OPEN UNIT 12 WRITE CARD NAME @9RTFTEST.PSF
WRITE PSF CARD UNIT 12
* PSF FOR PSFTEST
*

OPEN UNIT 13 WRITE CARD NAME @9RTFTEST.PSP ! BRB-changed from FILE to CARD
WRITE PSF  UNIT 13 CARD
* PSF FOR RTFTEST
*

! NOW LETS PLAY AROUND WITH RTFIO
OPEN WRITE CARD UNIT 40 NAME @9FOR040.DAT
WRITE RTF UNIT 40 CARD
* FIRST RTF FROM RTFTEST
*
CLOSE UNIT 40
!print rtf

OPEN WRITE FILE UNIT 41 NAME @9FOR041.DAT
WRITE RTF FILE UNIT 41
* RTF FOR RTFTEST
*
CLOSE UNIT 41

! NOW READ IN A JUNK RTF
OPEN READ FORM UNIT 42 NAME @0toprna10r.rtf
READ RTF CARD UNIT 42
CLOSE UNIT 42

! NOW LETS GET BACT THE FIRST ONE AGAIN
OPEN READ  FILE UNIT 41 NAME @9FOR041.DAT
READ RTF UNIT 41
OPEN WRITE CARD UNIT 39 NAME @9FOR039.DAT
WRITE RTF UNIT 39 CARD
* SECOND RTF FROM RTFTEST
*
!print rtf ! is the rtf the same as before? (diff saved files to check)

UPDATE INBF 0 IHBF 0
STOP
